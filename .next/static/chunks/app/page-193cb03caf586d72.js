(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{802:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(5155),i=t(2115),l=t(5417),r=t(5239);function c(){let[e,s]=(0,i.useState)([]),t=(0,l.createBrowserClient)("https://zlbkspsokztxaioztigk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpsYmtzcHNva3p0eGFpb3p0aWdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3MDcxODksImV4cCI6MjA4MzI4MzE4OX0.hh6RJkGO_c-QnFPbO8UmLrf8lB6-OMKDnK2_CCyLTnQ");return(0,i.useEffect)(()=>{!async function(){let{data:e}=await t.from("products").select("id, name, image_url, category, sold_count"),{data:a}=await t.from("tiers").select("id").eq("name","Consumer").single();if(e&&a){let{data:i}=await t.from("product_prices").select("product_id, price").eq("tier_id",a.id);s(e.map(e=>{let s=null==i?void 0:i.find(s=>s.product_id===e.id);return{...e,price:(null==s?void 0:s.price)||0}}))}}()},[t]),(0,a.jsxs)("main",{className:"min-h-screen bg-gray-50 p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Katalog Produk"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100",children:[(0,a.jsx)("div",{className:"h-32 bg-gray-200 w-full object-cover",children:e.image_url?(0,a.jsx)(r.default,{src:e.image_url,alt:e.name,width:128,height:128,className:"h-full w-full object-cover"}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400 text-xs",children:"No Image"})}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h2",{className:"text-sm font-medium text-gray-900 line-clamp-2 min-h-[40px]",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.category}),(0,a.jsxs)("div",{className:"flex justify-between items-end",children:[(0,a.jsxs)("span",{className:"text-blue-600 font-bold text-sm",children:["Rp ",e.price.toLocaleString("id-ID")]}),(0,a.jsxs)("span",{className:"text-[10px] text-gray-400",children:["Terjual ",e.sold_count]})]})]})]},e.id))})]})}},6349:(e,s,t)=>{Promise.resolve().then(t.bind(t,802))}},e=>{e.O(0,[775,441,255,358],()=>e(e.s=6349)),_N_E=e.O()}]);