(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{997:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var s=a(5155),l=a(2115),r=a(5239),n=a(9962);function i(){let{cartOpen:e,closeCart:t,items:a,totalPrice:i,updateQuantity:c,removeFromCart:d,clearCart:o}=(0,n._)();return(0,l.useEffect)(()=>{"undefined"!=typeof document&&(e?document.body.style.overflow="hidden":document.body.style.overflow="")},[e]),(0,s.jsxs)("div",{"aria-hidden":!e,className:"fixed inset-0 z-50 transition-opacity ".concat(e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:t}),(0,s.jsx)("aside",{className:"absolute right-0 top-0 h-full w-full sm:w-96 bg-white shadow-xl transform transition-transform ".concat(e?"translate-x-0":"translate-x-full"),role:"dialog","aria-modal":"true",children:(0,s.jsxs)("div",{className:"p-4 h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Keranjang"}),(0,s.jsx)("button",{"aria-label":"Tutup keranjang",onClick:t,className:"text-gray-500 px-2 py-1",children:"âœ•"})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto",children:0===a.length?(0,s.jsx)("div",{className:"text-center text-gray-500 mt-8",children:"Keranjang kosong"}):(0,s.jsx)("ul",{className:"space-y-4",children:a.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded overflow-hidden relative flex items-center justify-center text-xs text-gray-400",children:e.image?(0,s.jsx)(r.default,{src:e.image,alt:e.name,width:64,height:64,className:"object-cover"}):(0,s.jsx)("span",{children:"No Image"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Rp ",e.price.toLocaleString("id-ID")]}),(0,s.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,s.jsx)("button",{"aria-label":"Kurangi jumlah ".concat(e.name),onClick:()=>c(e.id,e.quantity-1),className:"px-2 py-1 bg-gray-100 rounded",children:"-"}),(0,s.jsx)("div",{className:"px-3 py-1 border rounded text-sm",children:e.quantity}),(0,s.jsx)("button",{"aria-label":"Tambah jumlah ".concat(e.name),onClick:()=>c(e.id,e.quantity+1),className:"px-2 py-1 bg-gray-100 rounded",children:"+"}),(0,s.jsx)("button",{"aria-label":"Hapus ".concat(e.name),onClick:()=>d(e.id),className:"ml-2 text-sm text-red-600",children:"Hapus"})]})]})]},e.id))})}),(0,s.jsxs)("div",{className:"mt-4 border-t pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-700 mb-3",children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsxs)("span",{className:"font-semibold",children:["Rp ",i.toLocaleString("id-ID")]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{alert("Checkout belum diimplementasikan")},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded",children:"Checkout"}),(0,s.jsx)("button",{onClick:o,className:"px-3 py-2 border rounded",children:"Kosongkan"})]})]})]})})]})}function c(){return(0,s.jsx)(i,{})}},1290:()=>{},1725:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(5155),l=a(2115),r=a(9962);function n(){let[e,t]=(0,l.useState)(""),{totalCount:a,openCart:n,cartOpen:i}=(0,r._)();return(0,s.jsx)("header",{className:"w-full bg-white border-b border-gray-100",children:(0,s.jsxs)("div",{className:"max-w-full sm:max-w-xl md:max-w-2xl lg:w-1/2 mx-auto px-4 py-3 flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("img",{src:"/logo.png",alt:"Logo Tsalis",className:"h-8 w-8"}),(0,s.jsxs)("div",{className:"text-xl font-extrabold",children:["Katalog ",(0,s.jsx)("span",{className:"text-blue-600",children:"Tsalis"})]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Cari produk"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{id:"search",value:e,onChange:e=>t(e.target.value),placeholder:"Cari produk...",className:"w-full rounded-md border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-200"})})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsxs)("button",{"aria-label":"Keranjang","aria-expanded":i,onClick:n,className:"relative inline-flex items-center rounded-md bg-blue-600 text-white px-3 py-2 text-sm hover:bg-blue-700",children:[(0,s.jsx)("span",{className:"sr-only",children:"Buka keranjang"}),"Cart",(0,s.jsx)("span",{className:"ml-2 bg-white text-blue-600 rounded-full px-2 text-xs font-semibold",children:a})]})})]})})}},4035:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,1290,23)),Promise.resolve().then(a.bind(a,997)),Promise.resolve().then(a.bind(a,1725)),Promise.resolve().then(a.bind(a,9962))},9962:(e,t,a)=>{"use strict";a.d(t,{CartProvider:()=>n,_:()=>i});var s=a(5155),l=a(2115);let r=(0,l.createContext)(void 0),n=e=>{let{children:t}=e,[a,n]=(0,l.useState)([]),[i,c]=(0,l.useState)(!1);(0,l.useEffect)(()=>{try{let e=localStorage.getItem("cart");e&&n(JSON.parse(e))}catch(e){}},[]),(0,l.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(a))},[a]);let d=a.reduce((e,t)=>e+t.quantity,0),o=a.reduce((e,t)=>e+t.price*t.quantity,0);return(0,s.jsx)(r.Provider,{value:{items:a,totalCount:d,totalPrice:o,cartOpen:i,openCart:()=>c(!0),closeCart:()=>c(!1),toggleCart:()=>c(e=>!e),addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n(a=>{let s=a.findIndex(t=>t.id===e.id);if(s>=0){let e=[...a];return e[s].quantity+=t,e}return c(!0),[...a,{...e,quantity:t}]})},removeFromCart:e=>{n(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{n(a=>a.map(a=>a.id===e?{...a,quantity:Math.max(1,t)}:a))},clearCart:()=>n([])},children:t})},i=()=>{let e=(0,l.useContext)(r);if(!e)throw Error("useCart must be used within CartProvider");return e}}},e=>{e.O(0,[741,239,441,255,358],()=>e(e.s=4035)),_N_E=e.O()}]);